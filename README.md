Unit Test - Place Order (訂單處理)

* 藉由一支系統功能程式[處理訂購]及[計算訂購金額]的邏輯實作,展示如何為其編寫單元測試程式(Unit Test Code)以及重構(Refactor)演進的過程<br />
* 重構的目的在於讓程式越簡潔易讀,以達成可容易維護的效果<br />
* 每一次重構,均有其重構的單元目標,並且會透過測試程式的執行,確保重構後的程式仍可正常運作<br />
* 重構後的效果=> 高內聚力與低耦合性<br />

<P>
test1:程式先寫出來,以符合需求。對訂單的各種折扣方式寫出對應的測試案例<br />
test2:整理與萃取,將已測試成功的程式碼中,找到負責單一工作的程式碼,拉出來做單獨的一個方法,使整段測試看起來更簡潔<br />
test3:介面與多型的設計<br />
</P>




* 運用多型來取代switch敘述:
   * 折扣計算(CalcDiscount)抽離並制定介面(Interface)規格。
   * 每一個折扣類型都各自實作為類別(Class),並實作上述所制定的共同介面。
* 讓判斷邏輯(判斷折扣類型(DiscountType))與折扣計算邏輯(ClacTotalAmountByDiscount)各自分離,更易於維護與延展(例如新增一個折扣類型,只要在DiscountEnum 新增一個類型後,為這個類型新增一個class並且實作IDiscountPrice這個介面中屬於該折扣類型的邏輯的方法即可)。
* 為之後可能新增的需求做彈性的擴充(可能有新的折扣方式但只需把該折扣方式的實作邏輯寫入介面中的方法即可),如此多型的設計才得以凸顯容易應變未知需求的價值。

